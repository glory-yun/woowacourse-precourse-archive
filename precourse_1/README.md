# javascript-calculator-precourse

# **🧾 문자열 덧셈 계산기**

## 기능 요구사항

- 쉼표(,) 또는 콜론(:)을 구분자로 가지는 문자열을 전달하는 경우 구분자를 기준으로 분리한 각 숫자의 합을 반환한다.
- (쉼표, 콜론) 외에, 문자열 앞부분의 `//`와 `\n` 사이에 위치하는 문자를 커스텀 구분자로 사용할 수 있다.
- 사용자가 잘못된 값을 입력할 경우 "[ERROR]"로 시작하는 메시지와 함께 Error를 발생시킨 후 애플리케이션을 종료시킨다.

## 기능 목록

### 1. 문자열 입력받기

- `Console.readLineAsync()` 를 통하여 문자열 입력받음.

### 2. 구분자를 기준으로 숫자 분리하기

- 빈 문자열일 경우, [0]을 반환.
- 문자열 맨 앞부분의 `//` 와 `\n` 사이에 문자가 있으면 커스텀 구분자로 추출.
- 기본 구분자 (`,` , `:`)와 커스텀 구분자를 이용하여 문자열에 있는 숫자를 분리.
- 분리된 숫자들을 배열로 반환.

### 3. 분리된 숫자 더하기

- 분리된 숫자 배열 안에 있는 값을 더함.

### 4. 문자열 출력

- `Console.print()`를 활용하여 계산 결과를 출력.

### 🚨 예외 처리

**예외 발생 상황**

- 음수가 포함된 문자열일 때
- 기본 구분자와 커스텀 구분자 이외에 다른 구분자가 있을 때
- 커스텀 구분자 suffix(\n)가 존재하지 않을 때
- 커스텀 구분자에 숫자가 포함되어 있을 때

⇒ [Error]로 시작하는 에러 메시지와 함께 Error를 발생시키고, 프로그램을 종료 시킴.

## 파일 구조 설계

```
src/
├── Calculator.js
├── Controller.js
├── Views.js
└── utils/
    ├── Validate.js
    └── Constant.js
```

---

### 📁 Calculater.js

→ 입력된 문자열에서 숫자를 분리하여 합을 계산하는 계산기.

**[메서드]**

**_calculate_**

- 빈 문자열 처리 → 커스텀 구분자 탐색 → 문자열 파싱 → 파싱된 값 검증 → 문자열 합산

**_findCustomSeparator_**

- `//` , `\n` 사이의 커스텀 구분자를 찾아, `,` `:`와 합친 구분자를 반환
- `//` 으로 시작하지 않으면, 기본 구분자 반환
- 커스텀 구분자가 공백이면, 기본 구분자를 반환

**_parse_**

- 문자열에서 `\n` 뒷부분의 문자열을 구분자를 기준으로 슬라이스함.

**_add_**

- 슬라이스된 배열의 합을 합산하여 반환
- 분리된 숫자가 숫자로 구성되있는지, 분리된 숫자가 양수인지 먼저 검증 후에 계산 수행

---

### 📁 Controller.js

→ 입출력, 문자열 덧셈의 수행을 제어.

**[메서드]**

**_start_**

- (입력 → 계산 → 출력) 흐름으로 수행

---

### 📁 Views.js

→ 사용자에게 문자열을 입력받고, 결과를 출력.

**[메서드]**

**_printRequestInput_**

- 사용자에게 문자열 입력 요청

**_printResult_**

- 사용자에게 문자열 계산 결과 출력

---

### 📁 utils/Validate.js

→ 사용자가 잘못된 문자열을 입력하지 않았는지 검증.

**[메서드]**

**_validCustomSeparatorFormat_**

- 커스텀 구분자의 suffix(`\n`)가 존재하는지 확인

**_validCustomSeparatorType_**

- 커스텀 구분자가 문자인지 아닌지 검사

**_checkComposedWithNumber_**

- 커스텀 구분자와 기본 구분자 이외에 다른 문자가 있는지 검사

**_checkNegativeNumber_**

- 구분자로 분리된 값 중 음수가 포함되있는지 검사

---

### 📁 utils/constant.js

→ 반복적으로 사용되는 문자열, 고정값 등을 모아둠.

- CALC_MSG : 계산 로직 관련 상수
- VALID_MSG : 입력 검증 관련 에러 메시지
- VIEWS_MSG : 콘솔 입출력 메시지

---

## 테스트 결과

| 구분                    | 입력 문자열   | 예상 결과                                            |
| ----------------------- | ------------- | ---------------------------------------------------- |
| 기본 구분자(쉼표)       | `1,2,3`       | 결과 : 6                                             |
| 기본 구분자(콜론)       | `1:2:3`       | 결과 : 6                                             |
| 혼합 구분자             | `1,2:3`       | 결과 : 6                                             |
| 커스텀 구분자(세미콜론) | `//;\\n1;2;3` | 결과 : 6                                             |
| 커스텀 구분자(.)        | `//.\\n1.2.3` | 결과 : 6                                             |
| 커스텀 구분자([])       | `//[\\n1[2[3` | 결과 : 6                                             |
| 커스텀 구분자 비어있음  | `//\\n1,2:3`  | 결과 : 6                                             |
| 빈 문자열 입력          | `""`          | 결과 : 0                                             |
| 음수 포함               | `1,-2,3`      | [ERROR] 양수가 입력되어야 합니다.                    |
| 숫자가 아닌 값 포함     | `1,a,3`       | [ERROR] 숫자가 아닌 값으로 이루어져 있습니다.        |
| 커스텀 구분자 형식 오류 | `//;1;2;3`    | [ERROR] 커스텀 구분자를 지정할 수 없습니다.          |
| 커스텀 구분자 숫자 포함 | `//1\\n1,2,3` | [ERROR] 커스텀 구분자는 숫자가 아닌 문자여야 합니다. |
